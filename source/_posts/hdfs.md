---
title: hadoop简介
date: 2016-10-24 13:48:21
tags: hadoop
---

hdfs优点：
高容错性：
	数据自动保存多个副本
	副本丢失后，自动恢复
适合批处理：
	移动计算而非数据
	数据位置暴露给计算框架
适合大数据处理：
可构建在廉价的机器上
	通过多副本提高可靠性
	提供容错和恢复机制
	
hdfs的缺点：
低延时数据服务：
	大部分耗费在寻址时间上，90%耗在这里
	低延迟和高吞吐率
小文件存储：
	占用namenode大量内存
	寻道时间超过读取时间
并发写入和文件修改（不允许，修改成本太高）
	一个文件只有一个作者
	仅支持append
	
hafs的架构：
基础架构：主从架构
namenode（master）：一个集群中只有一个
datanode（slave）：一个集群中有多个
secondary namenode：没有HA（高可用）的情况下，启用
公司都是用高可用架设hadoop，所有不用secondary namenode

hdfs的基本数据单元block（逻辑单元）
文件被切分成固定大小的数据块
	hadoop1.x的默认大小是64M
	hadoop2.x默认为128M
	若文件大小不到64M，可单独存为一个block
一个文件的存储方式
	一个文件切分成若干个block，并存储在不同的节点上
	默认的block有3个副本
